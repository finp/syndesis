<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Connecting to Email Servers (IMAP, POP3, SMTP) :: Docs</title>
    <link rel="canonical" href="https://pwright.github.io/syndesis/docs/connecting/assemblies/connecting/assembly-connecting-to-email-servers.html">
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://pwright.github.io/syndesis">Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
         
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="is-primary" href="#"></a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../index.html"> Home</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../tutorials/master.html">Syndesis Sample Integration Tutorials</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../master.html">Connecting Syndesis to Applications and Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../customizing/master.html">Developing OpenAPI Documents and Extensions to Customize Syndesis</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../integrating-applications/master.html">Integrating Applications with Syndesis</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Docs</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">Docs</a></li>
    <li><a href="assembly-connecting-to-email-servers.html">Connecting to Email Servers (IMAP, POP3, SMTP)</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/pwright/repos/doc-test/syndesis/antora/modules/ROOT/pages/connecting/assemblies/connecting/assembly-connecting-to-email-servers.adoc"></a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Connecting to Email Servers (IMAP, POP3, SMTP)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>An integration can connect to an IMAP or POP3 email server to
retrieve email messages or
connect to an SMTP email server to send email messages. To trigger integration
execution upon retrieving email, create a
connection to an IMAP or POP3 email server and then add that connection
as a simple integration&#8217;s start connection.
To send an email from a flow, create a connection to an SMTP email
server and then add that connection to the middle of a flow or to finish
a simple integration.</p>
</div>
<div class="paragraph">
<p>For details, see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#creating-a-connection-to-an-imap-or-pop3-email-server_email">Creating a connection to an IMAP or POP3 email server</a></p>
</li>
<li>
<p><a href="#creating-a-connection-to-an-smtp-email-server_email">Creating a connection to an SMTP email server</a></p>
</li>
<li>
<p><a href="#obtaining-email-to-trigger-integration-execution_email">Obtaining email to trigger integration execution</a></p>
</li>
<li>
<p><a href="#sending-email-from-an-integration_email">Sending email from an integration</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-a-connection-to-an-imap-or-pop3-email-server_email"><a class="anchor" href="#creating-a-connection-to-an-imap-or-pop3-email-server_email"></a>Creating a connection to an IMAP or POP3 email server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You must create a connection to an IMAP or POP3 email server
before you can create a simple integration whose execution is
triggered by received email.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>You must be familiar with the email server that this
connection accesses. Specifically, you must know:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Whether the email server uses the IMAP or POP3 protocol.</p>
</li>
<li>
<p>Whether authentication credentials are required. If they are,
you must have a user name and password.</p>
</li>
<li>
<p>Whether a security method is implemented. If one is, you must know
which method.</p>
</li>
<li>
<p>Whether a server certificate is required. If it is,
you must be able to specify it.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In {prodname}, in the left panel, click <strong>Connections</strong> to
display any available connections.</p>
</li>
<li>
<p>Click <strong>Create Connection</strong> to display
{prodname} connectors.</p>
</li>
<li>
<p>Click the <strong>Receive Email</strong> connector.</p>
</li>
<li>
<p>Configure the connection:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Protocol</strong> field, accept <strong>imap</strong> or select <strong>pop3</strong>.</p>
</li>
<li>
<p>In the <strong>Email Host Name</strong> field, enter the email server
host name, virtual host name, or IP address.</p>
</li>
<li>
<p>In the <strong>Email Server Port Number</strong> field, enter the port number
that the email server listens on.</p>
</li>
<li>
<p>In the <strong>User Name</strong> field, specify the user name for the email
account that this connection is authorized to access. During
execution of an integration, this connection polls this email
account for messages.</p>
<div class="paragraph">
<p>Rarely, an email server does not authenticate access. In that case,
specification of user name and password is not required.</p>
</div>
</li>
<li>
<p>In the <strong>Password</strong> field, specify the password for the email
account that this connection is authorized to access.</p>
</li>
<li>
<p>Optional. In the <strong>Security Method</strong> field, if the
email server implements a security method, select <strong>StartTLS</strong> or
<strong>SSL/TLS</strong>.</p>
</li>
<li>
<p>Optional. In the <strong>Server Certificate</strong> field, if the email server
is not public, that is, it is on an internal network, and if you
selected <strong>StartTLS</strong> or <strong>SSL/TLS</strong> as the security method,
paste the self-signed email server certificate
in this field. {prodname} cannot verify this connection if a
server certificate is required and you do not specify it.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Validate</strong>. {prodname} immediately tries to validate the
connection and displays a message that indicates whether or not
validation is successful. If validation fails, revise the configuration
details as needed and try again.</p>
</li>
<li>
<p>When validation is successful, click <strong>Next</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter your choice of a name that
helps you distinguish this connection from any other connections.
For example, enter <code><strong>Obtain Info Emails</strong></code>.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, optionally enter any information that
is helpful to know about this connection. For example,
enter <code><strong>Connect to our company email server to obtain messages
sent to info@ourcompany.com.</strong></code></p>
</li>
<li>
<p>Click <strong>Save</strong> to see that the connection you
created is now available. If you entered the example name, you would
see that <strong>Obtain Info Emails</strong> appears as a connection that you can
choose to add to an integration.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-a-connection-to-an-smtp-email-server_email"><a class="anchor" href="#creating-a-connection-to-an-smtp-email-server_email"></a>Creating a connection to an SMTP email server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You must create a connection to an SMTP email server
before you can edit an integration flow so that it
connects to an SMTP email server to send email.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>You must be familiar with the email server that this
connection accesses. Specifically, you must know:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Whether authentication credentials are required. If they are,
you must have a user name and password.</p>
</li>
<li>
<p>Whether a security method is implemented. If one is, you must know
which method.</p>
</li>
<li>
<p>Whether a server certificate is required. If it is,
you must be able to specify it.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In {prodname}, in the left panel, click <strong>Connections</strong> to
display any available connections.</p>
</li>
<li>
<p>Click <strong>Create Connection</strong> to display
{prodname} connectors.</p>
</li>
<li>
<p>Click the <strong>Send Email</strong> connector.</p>
</li>
<li>
<p>Configure the connection:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Email Host Name</strong> field, enter the email server
host name, virtual host name, or IP address.</p>
</li>
<li>
<p>In the <strong>Email Server Port Number</strong> field, enter the port number
that the email server listens on.</p>
</li>
<li>
<p>In the <strong>User Name</strong> field, specify the user name for the email
account that this connection is authorized to access. During
execution of an integration, this connection uses this email
account to send messages.</p>
<div class="paragraph">
<p>Rarely, an email server does not authenticate access. In that case,
specification of user name and password is not required.</p>
</div>
</li>
<li>
<p>In the <strong>Password</strong> field, specify the password for the email
account that this connection is authorized to access.</p>
</li>
<li>
<p>Optional. In the <strong>Security Method</strong> field, if the
email server implements a security method, select <strong>StartTLS</strong> or
<strong>SSL/TLS</strong>.</p>
</li>
<li>
<p>Optional. In the <strong>Server Certificate</strong> field, if the email server
is not public, that is, it is on an internal network, and if you
selected <strong>StartTLS</strong> or <strong>SSL/TLS</strong> as the security method,
paste the self-signed email server certificate
in this field. {prodname} cannot verify this connection if a
server certificate is required and you do not specify it.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Validate</strong>. {prodname} immediately tries to validate the
connection and displays a message that indicates whether or not
validation is successful. If validation fails, revise the configuration
details as needed and try again.</p>
</li>
<li>
<p>When validation is successful, click <strong>Next</strong>.</p>
</li>
<li>
<p>In the <strong>Name</strong> field, enter your choice of a name that
helps you distinguish this connection from any other connections.
For example, enter <code><strong>Send Emails to Leads</strong></code>.</p>
</li>
<li>
<p>In the <strong>Description</strong> field, optionally enter any information that
is helpful to know about this connection. For example,
enter <code><strong>Connect to our company email server to send messages
from info@ourcompany.com.</strong></code></p>
</li>
<li>
<p>Click <strong>Save</strong> to see that the connection you
created is now available. If you entered the example name, you would
see that <strong>Send Emails to Leads</strong> appears as a connection that you can
choose to add to an integration.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="obtaining-email-to-trigger-integration-execution_email"><a class="anchor" href="#obtaining-email-to-trigger-integration-execution_email"></a>Obtaining email to trigger integration execution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To trigger execution of an integration upon receiving email,
add an IMAP or POP3 email server connection
as a simple integration&#8217;s start connection.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You created an IMAP or POP3 email server connection that is configured to access
the account that you want to obtain email from.</p>
</li>
<li>
<p>You know the name of the folder to retrieve messages from.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the {prodname} panel on the left, click <strong>Integrations</strong>.</p>
</li>
<li>
<p>Click <strong>Create Integration</strong>.</p>
</li>
<li>
<p>On the <strong>Choose a connection</strong> page, click the email server connection that
you want to use to start the integration.</p>
</li>
<li>
<p>On the <strong>Choose an action</strong> page, select <strong>Receive Email</strong>
to periodically retrieve messages from the email account
that the connection is authorized to access.</p>
</li>
<li>
<p>Configure the action:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Leave the <strong>Folder</strong> field blank to obtain email from the inbox. Or,
to obtain messages from a particular folder, enter the name of that folder.</p>
<div class="paragraph">
<p>If this connection accesses a POP3 email server, only standard folders,
such as <strong>Inbox</strong> or <strong>Sent</strong> are supported.</p>
</div>
</li>
<li>
<p>Select the <strong>Unseen Only</strong> checkbox to obtain
only messages that are marked as unread on the email server.</p>
</li>
<li>
<p>In the <strong>Delay</strong> field, accept the default of 5 seconds as the time
that elapses between polls for messages. Or, to specify a different polling interval,
enter a number and select its time unit.</p>
</li>
<li>
<p>In the <strong>Maximum Emails</strong> field, enter the largest number
of messages that one poll operation can return. The default is 5.
If the inbox or folder contains more than the maximum number of messages
that can be returned, the connection returns the oldest
messages up to the number set for <strong>Maximum Emails</strong>.</p>
<div class="paragraph">
<p>Set <strong>Maximum Emails</strong> to <strong><code>-1</code></strong> if you want each poll to obtain:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All new messages in the specified folder when <strong>Unseen Only</strong> is selected.</p>
</li>
<li>
<p>All messages in the specified folder when <strong>Unseen Only</strong> is NOT selected.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Result</div>
<p>The connection appears at the beginning of the integration flow.
During execution, if a poll returns email, the connection passes
the messages to the next step in the integration. If a poll does not
return any email, the integration continues to run but {prodname}
does not trigger the rest of the integration steps.</p>
</div>
<div class="paragraph">
<div class="title">Example</div>
<p>Consider a <strong>Receive Email</strong> action that is configured as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <strong>Folder</strong> field is blank so the connection polls the inbox.</p>
</li>
<li>
<p><strong>Unseen Only</strong> is selected.</p>
</li>
<li>
<p>The defaults for <strong>Delay</strong> (5 seconds) and <strong>Maximum Emails</strong> (5) are accepted.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Suppose that 10 messages arrive in the inbox during the delay before the
next poll. The connection returns the 5 oldest messages. At the next
poll, 5 seconds later, the connection returns the other 5 messages.
Even if new messages arrived, this is the case because the connection returns
the oldest messages if there are more messages than the number set for
<strong>Maximum Emails</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sending-email-from-an-integration_email"><a class="anchor" href="#sending-email-from-an-integration_email"></a>Sending email from an integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the middle of a flow, or to finish a simple integration,
you can add an email server connection that sends messages.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You created an SMTP email server connection that is configured to access
the account that you want to send messages from.</p>
</li>
<li>
<p>{prodname} is prompting you to add to the integration, or to choose the finish
connection for a simple integration.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On the <strong>Add to Integration</strong> page, click the plus sign where you
want to add the connection. Skip this step if {prodname} is
prompting you to choose the finish connection.</p>
</li>
<li>
<p>Click the email server connection that you want to use to send messages.</p>
</li>
<li>
<p>Select the <strong>Send Email</strong> action.</p>
</li>
<li>
<p>In the <strong>Email from</strong> field, enter the email address that sends the
messages. This is required even if you plan to add
a data mapper step that maps an email address
from a previous integration step to this connection.</p>
</li>
<li>
<p>Recommended: Specify a value in each of the following fields. Separate
multiple email addresses with a comma.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>Email to</strong></p>
</li>
<li>
<p><strong>Email subject</strong></p>
</li>
<li>
<p><strong>Email text</strong></p>
</li>
<li>
<p><strong>Email cc</strong></p>
</li>
<li>
<p><strong>Email bcc</strong></p>
</li>
</ol>
</div>
</li>
<li>
<p>In the <strong>Parameter Priority</strong> field, accept <strong>Input Values</strong> or select
<strong>Consumed Data</strong>. This determines which of the following has precedence:</p>
<div class="ulist">
<ul>
<li>
<p>Input values in this action configuration</p>
</li>
<li>
<p>Data values that you map to this connection</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The recommendation is to select <strong>Consumed Data</strong>. This means that the
values that you specify in the email fields here serve as default values.</p>
</div>
</li>
<li>
<p>Click <strong>Next</strong> to add the connection to the flow.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Result</div>
<p>The connection appears in the integration flow where you added it.</p>
</div>
<div class="paragraph">
<div class="title">Next steps</div>
<p>Add all other needed to connections to the flow. Then add a data mapper
step before the connection that sends email.
In the data mapper step, map source fields to the target fields for sending emails.</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
