<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Updating all fields in a resource on a FHIR server :: Docs</title>
    <link rel="canonical" href="https://pwright.github.io/syndesis/docs/connecting/modules/connecting/proc-adding-fhir-connection-update.html">
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://pwright.github.io/syndesis">Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
         
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="is-primary" href="#"></a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../index.html"> Home</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../tutorials/master.html">Syndesis Sample Integration Tutorials</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../master.html">Connecting Syndesis to Applications and Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../customizing/master.html">Developing OpenAPI Documents and Extensions to Customize Syndesis</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../integrating-applications/master.html">Integrating Applications with Syndesis</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Docs</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">Docs</a></li>
    <li><a href="proc-adding-fhir-connection-update.html">Updating all fields in a resource on a FHIR server</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/pwright/repos/doc-test/syndesis/antora/modules/ROOT/pages/connecting/modules/connecting/proc-adding-fhir-connection-update.adoc"></a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Updating all fields in a resource on a FHIR server</h1>
<div class="paragraph">
<p>In an integration, you can update a resource that is on a FHIR server.
To provide the updated values, add a data mapper step to the flow just before
a FHIR connection that updates a resource. It is expected that previous
steps in the flow provide the data that you want the updated resource
to contain. Map fields in the previous steps to fields in the target
resource that this FHIR connection updates.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The updated resource contains only the fields that you map to.
In other words, in addition to mapping the fields whose values are
changing, you must map the fields that you want to be in the resource
and whose values are not changing. If you do not map a particular
resource field then the connection deletes that field from the
updated resource.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Be sure to map the resource ID from a previous step to the resource ID
in this connection. This is the only resource field that the connection
does not change. If the FHIR server does not already have a resource
that has the resource ID for the resource to be updated, then the connection
creates a new resource with that resource ID. This is the only way to add
a new resource that has a resource ID that you choose.</p>
</div>
<div class="paragraph">
<p>To update or create a resource, add a FHIR connection to the middle
of a flow, or as a simple integrationâ€™s finish connection.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You created a connection to the FHIR server on which you want to
update or create a resource.</p>
</li>
<li>
<p>You are creating or editing a flow and {prodname} is prompting you
to add to the integration. Or, {prodname} is prompting you to  add a finish connection.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On the <strong>Add to Integration</strong> page, click the plus sign where you
want to add the connection. Skip this step if {prodname} is
prompting you to choose the finish connection.</p>
</li>
<li>
<p>Click the FHIR connection that you want to use
to update a resource on a FHIR server.</p>
</li>
<li>
<p>On the <strong>Choose an action</strong> page, select <strong>Update</strong>.</p>
</li>
<li>
<p>Click in the <strong>Resource Type</strong> field to display a list
of FHIR resource types. Select or enter the type of resource
that you want to update or create.</p>
</li>
<li>
<p>In the <strong>Contained Resource Types</strong> field, if the resource type
that you want to update or create contains other resource types, select
them. Use the <strong>Ctrl</strong> key if you need to select more than one.</p>
<div class="paragraph">
<p>Identifying contained resource types lets the data mapper display the fields
that are in the contained resources. If you do not specify a contained resource
type then you cannot map to or from any fields that are in the contained
resource. There is no harm in selecting a resource that is not actually contained.</p>
</div>
</li>
<li>
<p>Click <strong>Next</strong> to add this connection to the flow.</p>
</li>
<li>
<p>If this flow needs additional steps to obtain the data that you want the
updated resource to contain, add them before this FHIR connection.</p>
</li>
<li>
<p>In the integration visualization, click the plus sign that is
before the FHIR connection that updates a resource.</p>
</li>
<li>
<p>Click <strong>Data Mapper</strong>.</p>
</li>
<li>
<p>In the data mapper:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Map a resource ID to the target resource ID. This is the only way
to specify the resource ID for a new resource.</p>
</li>
<li>
<p>Map to each resource field that you want the updated or new
resource to contain. Be sure to map fields whose values are not
changing, as well as fields whose values need to be updated.</p>
</li>
<li>
<p>Click <strong>Done</strong> to add the data mapper step to the flow.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Result</div>
<p>The connection appears in the integration visualization
where you added it. During execution, the connection
updates or creates a resource on the FHIR server and returns a
<strong>MethodOutcome</strong> resource that includes an <code>id.idPart</code> field.
This field contains the updated/created resource&#8217;s ID,
which you might want to map
to a subsequent step in the flow.</p>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
