<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mapping integration data to fields for the next connection :: Docs</title>
    <meta name="generator" content="Antora 2.3.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">Docs</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
         
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="is-primary" href="#"></a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../index.html">Docs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../index.html"> Home</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Docs</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">Docs</a></li>
    <li><a href="assembly-mapping-data.html">Mapping integration data to fields for the next connection</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/pwright/repos/doc-test/syndesis/antora/modules/ROOT/pages/integrating-applications/assemblies/integrating-applications/assembly-mapping-data.adoc"></a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Mapping integration data to fields for the next connection</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In most flows, you need to map data fields that have already
been obtained or processed to data fields that the next connection in the
flow can process.
{prodname} provides a data mapper to help you do this. In a flow,
at each point where you need to map data fields, add a data mapper step.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The data mapper displays the largest possible set of source fields that can
be provided by the previous integration step. However, not all connections
provide data in each displayed source field. For example, a change to a
third-party application might discontinue providing data in a particular field.
As you create an integration, if you notice that data mapping is not behaving
as you expect, ensure that a source field that you want to map contains the
data that you expect.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Details for mapping data fields are in the following topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#identify-where-data-mapping-is-needed_map">Identifying where data mapping is needed</a></p>
</li>
<li>
<p><a href="#find-the-field-you-want-to-map_map">Finding the data field that you want to map</a></p>
</li>
<li>
<p><a href="#map-one-source-field-to-one-target-field_map">Mapping one source field to one target field</a></p>
</li>
<li>
<p><a href="#example-missing-unwanted-data_map">Example of missing or unwanted data when combining or separating fields</a></p>
</li>
<li>
<p><a href="#combine-multiple-source-fields-into-one-target-field_map">Combining multiple source fields into one target field</a></p>
</li>
<li>
<p><a href="#separate-one-source-field-into-multiple-target-fields_map">Separating one source field into multiple target fields</a></p>
</li>
<li>
<p><a href="#using-data-mapper-to-process-collections_map">Using the data mapper to process collections</a></p>
</li>
<li>
<p><a href="#mapping-between-collections-and-non-collections_map">About mapping between collections and non-collections</a></p>
</li>
<li>
<p><a href="#transform-target-data_map">Transforming source or target data</a></p>
</li>
<li>
<p><a href="#applying-conditions-to-mappings_map">Applying conditions to mappings</a></p>
</li>
<li>
<p><a href="#view-mappings-in-a-step_map">Viewing the mappings in a step</a></p>
</li>
<li>
<p><a href="#available-transformations_map">Descriptions of available transformations</a></p>
</li>
<li>
<p><a href="#about-transformations-on-multiple-source-values_map">About transformations on multiple source values before mapping to one target field</a></p>
</li>
<li>
<p><a href="#troubleshooting-data-mapping_map">Troubleshooting data mapping</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="identify-where-data-mapping-is-needed_map"><a class="anchor" href="#identify-where-data-mapping-is-needed_map"></a>Identifying where data mapping is needed</h2>
<div class="sectionbody">
<div class="paragraph">
<p>{prodname} displays warning icons to indicate where a flow
requires data mapping.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are creating or editing a flow.</p>
</li>
<li>
<p>The flow contains all connections that it requires.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the flow visualization, look for any
<span class="image"><img src="../../../_images/images/tutorials/WarningIcon.png" alt="Warning"></span> icons.</p>
</li>
<li>
<p>Click the icon to see the <strong>Data Type Mismatch</strong> notification.</p>
</li>
<li>
<p>In the message, click <strong>Add a data mapping step</strong>, which displays
the data mapper.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="find-the-field-you-want-to-map_map"><a class="anchor" href="#find-the-field-you-want-to-map_map"></a>Finding the data field that you want to map</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a flow with relatively few steps, mapping data fields is easy
and intuitive. In more complex flows or in flows that handle
large sets of data fields, mapping from source to target is easier when
you have some background about how to use the data mapper.</p>
</div>
<div class="paragraph">
<p>The data mapper displays two columns of data fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Sources</strong> is a list of the data fields that are obtained or
processed in all previous steps in the flow.</p>
</li>
<li>
<p><strong>Target</strong> is a list of the data fields that the next
connection in the flow expects and can process.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To quickly find the data field that you
want to map, you can do any of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Search for it.</p>
<div class="paragraph">
<p>The <strong>Sources</strong> panel and the <strong>Target</strong> panel each have
a search field at the top. If the search field is not visible, click
<span class="image"><img src="../../../_images/images/tutorials/magnifying-glass.png" alt="Magnifying Glass"></span> at the top
right of the <strong>Sources</strong> or <strong>Target</strong> panel.</p>
</div>
</li>
<li>
<p>Enter the names of the fields that you want to map.</p>
<div class="paragraph">
<p>To do this,
in the upper right of the <strong>Configure Mapper</strong> page, click the plus sign
to display the <strong>Mapping Details</strong> panel. In the <strong>Sources</strong> section, enter
the name of the source field. In the <strong>Target</strong> section, enter the name of the
field that you want to map to.</p>
</div>
</li>
<li>
<p>Expand and collapse folders to limit the visible fields.</p>
<div class="paragraph">
<p>To view the data fields available in a particular step, expand the
folder for that step.</p>
</div>
<div class="paragraph">
<p>As you add steps to a flow, {prodname} numbers and renumbers them to
indicate the order in which {prodname} processes the steps.
When you are adding a data
mapper step, the step numbers appear in the folder labels in the
<strong>Sources</strong> panel and in the <strong>Target</strong> panel.</p>
</div>
<div class="paragraph">
<p>The folder label also displays the name of the data type that is output
by that step. Connections to applications such as Twitter, Salesforce,
and SQL define their own data types. For connecting to applications
such as Amazon S3, AMQ,
AMQP, Dropbox, and FTP/SFTP, you define the connection&#8217;s input and/or output
type when you add the connection to a flow and select the action
that the connection performs.
When you specify the data type, you also give the type a name.
The type name you specify appears as the name of
a folder in the data mapper. If you specified a description when you
declared the data type, then the type description appears when you hover
over the step folder in the mapper.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="map-one-source-field-to-one-target-field_map"><a class="anchor" href="#map-one-source-field-to-one-target-field_map"></a>Mapping one source field to one target field</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The default mapping behavior maps one source field to one target field.
For example, map the <code>Name</code> field to the <code>CustomerName</code> field.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Sources</strong> panel, click the data field that you want to map from.</p>
<div class="paragraph">
<p>You might need to expand a step to see the data fields that it
provides.</p>
</div>
<div class="paragraph">
<p>When there are many source fields, you can search for the
field of interest by clicking the
<span class="image"><img src="../../../_images/images/tutorials/magnifying-glass.png" alt="Magnifying Glass"></span> and entering
the name of the data field in the search field.</p>
</div>
</li>
<li>
<p>In the <strong>Target</strong> panel, click the data field that you want to map to.</p>
<div class="paragraph">
<p>The data mapper displays a line that connects the two fields that you just
selected.</p>
</div>
</li>
<li>
<p>Optionally, preview the data mapping result. This is useful when
you add a transformation to the mapping or when the mapping requires
a type conversion.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the upper right of the data mapper, click
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span> and select
<strong>Show Mapping Preview</strong> to display a text input field on the source
field and a read-only result field on the target field.</p>
</li>
<li>
<p>In the source field&#8217;s data input field, enter text.</p>
</li>
<li>
<p>Click somewhere outside this text box to display
the mapping result in the read-only field on the target field.</p>
</li>
<li>
<p>Optionally, to see the result of a transformation, add a transformation
in the <strong>Mapping Details</strong> panel.</p>
</li>
<li>
<p>Hide the preview fields by clicking
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span> again and selecting
<strong>Show Mapping Preview</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Optionally, to confirm that the mapping is defined, in the upper right, click
<span class="image"><img src="../../../_images/images/tutorials/grid.png" alt="Grid"></span> to display the defined mappings.</p>
<div class="paragraph">
<p>You can also preview data mapping results in this view.
If preview fields are not visible,
click <span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span> and select
<strong>Show Mapping Preview</strong>. Enter data as described in the previous step.
In the table of defined mappings, preview fields
appear for only the selected mapping. To see preview fields for another
mapping, select it.</p>
</div>
<div class="paragraph">
<p>Click <span class="image"><img src="../../../_images/images/tutorials/grid.png" alt="Grid"></span> again to display the data field
panels.</p>
</div>
</li>
<li>
<p>In the upper right, click <strong>Done</strong> to add the data mapper step to the integration.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Alternative procedure</div>
<p>Here is another way to map a single source field to a single target
field:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the <strong>Configure Mapper</strong> page, in the upper right, click the plus sign
to display the <strong>Mapping Details</strong> panel.</p>
</li>
<li>
<p>In the <strong>Sources</strong> section, enter
the name of the source field.</p>
</li>
<li>
<p>In the <strong>Action</strong> section, accept the
default <strong>Map</strong> action.</p>
</li>
<li>
<p>In the <strong>Target</strong> section, enter the name of the
field that you want to map to and click <strong>Enter</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Troubleshooting tip</div>
<p>The data mapper displays the largest possible set of source fields that can
be provided by the previous integration step. However, not all connections
provide data in each displayed source field. For example, a change to a
third-party application might discontinue providing data in a particular field.
As you create an integration, if you notice that data mapping is not behaving
as you expect, ensure that a source field that you want to map contains the
data that you expect.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="example-missing-unwanted-data_map"><a class="anchor" href="#example-missing-unwanted-data_map"></a>Example of missing or unwanted data when combining or separating fields</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a data mapping, you might need to identify missing or unwanted data when a source or
target field contains compound data. For example, consider a
<code>long_address</code> field that has this format:</p>
</div>
<div class="paragraph">
<p><em>number street apartment city state zip zip+4 country</em></p>
</div>
<div class="paragraph">
<p>Suppose that you want to separate the <code>long_address</code> field into discrete
fields for <code>number</code>, <code>street</code>, <code>city</code>, <code>state</code>, and <code>zip</code>. To do this,
you select <code>long_address</code> as the source field and then select
the target fields. You then add padding fields at the locations for the
parts of the source field that you do not want. In this example, the
unwanted parts are <em>apartment</em>, <em>zip+4</em>, and <em>country</em>.</p>
</div>
<div class="paragraph">
<p>To identify the unwanted parts, you need to know the order
of the parts. The order indicates an index for
each part of the content in the compound field. For example, the <code>long_address</code>
field has 8 ordered parts. Starting at 1, the index of each part is:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>number</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>street</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>apartment</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>city</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>state</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zip</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>zip+4</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>country</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the data mapper, to identify <em>apartment</em>, <em>zip+4</em>, and <em>country</em> as missing, you
add padding fields at indexes 3, 7, and 8. See
<a href="{LinkSyndesisIntegrationGuide}#combine-multiple-source-fields-into-one-target-field_map">Combining multiple source fields into one target field</a>.</p>
</div>
<div class="paragraph">
<p>Now suppose that you want to combine source fields for
<code>number</code>, <code>street</code>, <code>city</code>, <code>state</code>, and <code>zip</code> into a <code>long_address</code>
target field. Further suppose that there are no source fields to provide content for
<em>apartment</em>, <em>zip+4</em>, and <em>country</em>. In the data mapper, you need to
identify these fields as missing. Again, you add padding fields
at indexes 3, 7, and 8. See
<a href="{LinkSyndesisIntegrationGuide}#separate-one-source-field-into-multiple-target-fields_map">Separating one source field into multiple target fields</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="combine-multiple-source-fields-into-one-target-field_map"><a class="anchor" href="#combine-multiple-source-fields-into-one-target-field_map"></a>Combining multiple source fields into one target field</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a data mapper step, you can combine multiple source fields into one
compound target field. For example, you can map the <code>FirstName</code> and <code>LastName</code>
fields to the <code>CustomerName</code> field.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisite</div>
<p>For the target field, you must know what type of content is in each
part of this compound field, the order and index of each part of the content,
and the separator between parts, such as a space or comma. See
<a href="{LinkSyndesisIntegrationGuide}#example-missing-unwanted-data_map">Example of missing or unwanted data</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Target</strong> panel, click the field into which you want to map more
than one source field.</p>
</li>
<li>
<p>In the <strong>Sources</strong> panel, if there is a field that contains the fields
that you want to map to the target field, then click that container field
to map all contained fields to the target field.</p>
<div class="paragraph">
<p>To individually select each source field, click the first field that
you want to combine into the target field. For each of the other fields
that you want to combine into the target field, hover over that field, and press
<strong>CTRL-Mouse1</strong> (<strong>CMD-Mouse1</strong> on MacOS).</p>
</div>
<div class="paragraph">
<p>When you are done you should see a line from each of the source fields to
the target field.</p>
</div>
<div class="paragraph">
<p>In the <strong>Mapping Details</strong> panel, under <strong>Sources</strong>, the data mapper
displays the default multiplicity transformation, which is <strong>Concatenate</strong>.
This indicates that execution of the mapping applies the <strong>Concatenate</strong>
transformation to the values in the selected source fields and maps
the concatenated value to the selected target field.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For information about other transformations that you can apply to
multiple source values see
<a href="{LinkSyndesisIntegrationGuide}#about-transformations-on-multiple-source-values_map">About transformations on multiple source values</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Also under <strong>Sources</strong>, there is an entry for each source field that
you selected.</p>
</div>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, configure the mapping as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Under <strong>Sources</strong>, in the <strong>Delimiter</strong> field, accept or select
the character that the data mapper inserts in the target field between
the content from different source fields. The default is a space.</p>
</li>
<li>
<p>Optional. In each source field entry, you can click <strong>Add Transformation</strong>
to apply a transformation to the source field value before it gets
mapped to the target field.</p>
</li>
<li>
<p>Under <strong>Sources</strong>, check the order of the entries for the source
fields that you selected. The entries must be in the same order as
the corresponding content in the compound target field.</p>
<div class="paragraph">
<p>If the entries are not in the correct order, drag and drop
source field entries to achieve the same order. The data mapper
automatically updates the index numbers to reflect the new order.</p>
</div>
<div class="paragraph">
<p>If you mapped a source field to each part of the compound target field,
skip the next step.</p>
</div>
</li>
<li>
<p>For each source field entry that does not already have the same
index as the corresponding data in the target field, edit the index
to be the same. Each source field entry must have the same index
as the corresponding data in the target field. The data mapper
automatically adds padding fields as needed to indicate missing data.</p>
<div class="paragraph">
<p>If you accidentally create too many padding fields, click the
trash-can icon on each extra padding field to delete it.</p>
</div>
</li>
<li>
<p>Optional. Under <strong>Targets</strong>, click <strong>Add Transformation</strong> to map
the content into the target field and then apply a transformation.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Optionally, preview the data mapping result:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the upper right of the data mapper, click
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span> and select
<strong>Show Mapping Preview</strong> to display a text input field on each source
field for the currently selected mapping and a read-only result field
on the target field of the currently selected mapping.</p>
</li>
<li>
<p>In the source data input fields, enter text. Click outside the
text box to display the mapping result in the read-only field on the target field.</p>
<div class="paragraph">
<p>If you reorder the source fields or add a transformation to the mapping
then the result field on the target field reflects this. If the data mapper
detects any errors, it displays informative messages at the top of the
<strong>Mapping Details</strong> panel.</p>
</div>
</li>
<li>
<p>Hide the preview fields by clicking
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span> again and selecting
<strong>Show Mapping Preview</strong>.</p>
<div class="paragraph">
<p>If you redisplay the preview fields, any data
that you entered in them is still there and it
remains there until you exit the data mapper.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To confirm that the mapping is correctly defined, in the upper right, click
<span class="image"><img src="../../../_images/images/tutorials/grid.png" alt="Grid"></span> to display the mappings defined in
this step. A mapping that combines the values of more than one source field
into one target field looks like this:
<span class="image"><img src="../../../_images/images/integrating-applications/CombineMapping.png" alt="Combine Fields Mapping"></span>.</p>
<div class="paragraph">
<p>You can also preview mapping results in this view. Click
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span>, select
<strong>Show Mapping Preview</strong>, and enter text as described in the previous step.
Preview fields appear for only the selected mapping. Click another
mapping in the table to view preview fields for it.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Additional resource</div>
<p>Example of adding padding fields:
<a href="{LinkSyndesisIntegrationGuide}#separate-one-source-field-into-multiple-target-fields_map">Separating one source field into multiple target field</a>.</p>
</div>
<div class="paragraph">
<p>Although that example is for a one-to-many mapping, the principles are the same.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="separate-one-source-field-into-multiple-target-fields_map"><a class="anchor" href="#separate-one-source-field-into-multiple-target-fields_map"></a>Separating one source field into multiple target fields</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a data mapper step, you can separate a compound source field into multiple
target fields. For  example, map the <code>Name</code> field to the <code>FirstName</code> and
 <code>LastName</code> fields.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisite</div>
<p>For the source field, you must know what type of content is in each
part of this compound field, the order and index of each part of the content,
and the separator between parts, such as a space or comma. See
<a href="{LinkSyndesisIntegrationGuide}#example-missing-unwanted-data_map">Example of missing or unwanted data</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the <strong>Sources</strong> panel, click the field whose content you want to separate.</p>
</li>
<li>
<p>In the <strong>Target</strong> panel, click the first field that you want to separate the
source field data into.</p>
</li>
<li>
<p>In the <strong>Target</strong> panel, for each additional target field that you want
to contain some of the data from the source field, hover over the field and
press <strong>CTRL-Mouse1</strong> (<strong>CMD-Mouse1</strong> on MacOS) to select it.</p>
<div class="paragraph">
<p>When you are done selecting target fields, you should see lines from the
source field to each of the target fields that you selected.</p>
</div>
<div class="paragraph">
<p>In the <strong>Mapping Details</strong> panel:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Under <strong>Sources</strong>, the data mapper displays
<strong>Split</strong> to indicate that execution of the mapping splits the source
field value and maps it to multiple target fields.</p>
</li>
<li>
<p>Under <strong>Targets</strong>, there is an entry for each target field that
you selected.</p>
</li>
</ul>
</div>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, configure the mapping as follows:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Under <strong>Sources</strong>, in the <strong>Delimiter</strong> field, accept or select the
character in the source field that indicates where to separate
the source field values. The default is a space.</p>
</li>
<li>
<p>Optional. Click <strong>Add Transformation</strong> to apply a transformation
to the source field value before it gets mapped to the target field.</p>
</li>
<li>
<p>Under <strong>Targets</strong>, check the order of the entries for the target
fields that you selected. The entries must be in the same order
as the corresponding content in the compound source field.
It does not matter whether you did not specify a target field
for one or more parts of the content in the source field.</p>
<div class="paragraph">
<p>If the entries are not in the correct order, drag and drop target
field entries to achieve the same order. The data mapper automatically
updates the index numbers to reflect the new order.</p>
</div>
<div class="paragraph">
<p>If you mapped each part of the compound source field to a target
field, then skip to the next step.</p>
</div>
</li>
<li>
<p>If the source field contains data that you do not need,
then in the <strong>Mapping Details</strong> panel, edit the index of each
target field that does not already have the same index as the
corresponding data in the source field. Each target field entry
must have the same index that the corresponding data has
in the source field. The data mapper automatically adds
padding fields as needed to indicate unwanted data.</p>
<div class="paragraph">
<p>See the example at the end of this procedure.</p>
</div>
</li>
<li>
<p>Optional. Click <strong>Add Transformation</strong> to map the content into
the target field and then apply a transformation.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Optional. Preview the data mapping result:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the upper right of the data mapper, click
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span> and select
<strong>Show Mapping Preview</strong> to display a text input field on the source
field and read-only result fields on each target field.</p>
</li>
<li>
<p>In the source field&#8217;s data input field, enter text. Be sure to enter
the separator character between the parts of the field. Click outside
the text box to display the mapping result in the read-only fields
on the target fields.</p>
<div class="paragraph">
<p>If you reorder the target fields or add a transformation to a target field
then the result fields on the target fields reflect this. If the data mapper
detects any errors, it displays informative messages at the top of the
<strong>Mapping Details</strong> panel.</p>
</div>
</li>
<li>
<p>Hide the preview fields by clicking
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span> again and selecting
<strong>Show Mapping Preview</strong>.</p>
<div class="paragraph">
<p>If you redisplay the preview fields, any data that you entered in them is
still there and it remains there until you exit the data mapper.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To confirm that the mapping is correctly defined, click
<span class="image"><img src="../../../_images/images/tutorials/grid.png" alt="Grid"></span> to display the mappings defined in
this step. A mapping that separates the value of a source field into
multiple target fields looks like this:
<span class="image"><img src="../../../_images/images/integrating-applications/SeparateMapping.png" alt="Separate Fields Mapping"></span>.</p>
<div class="paragraph">
<p>You can also preview mapping results in this view. Click
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span>, select
<strong>Show Mapping Preview</strong>, and enter text as described in the previous step.
Preview fields appear for only the selected mapping. Click another
mapping in the table to view preview fields for it.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Example of separating one field into multiple fields</div>
<p>Suppose that the source data contains one address field and it uses
commas to separate the content parts, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>77 Hill Street, Brooklyn, New York, United States, 12345, 6789</pre>
</div>
</div>
<div class="paragraph">
<p>In an address field, the parts of the content have these indexes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 66.6666%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Content</th>
<th class="tableblock halign-left valign-top">Index</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number and street</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">City</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">State</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Country</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zip code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zip+4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Now suppose that the target data has four fields for an address:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>number-and-street
city
state
zip</pre>
</div>
</div>
<div class="paragraph">
<p>To define the mapping, you do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Select the source field.</p>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, in the <strong>Sources</strong> section,
select the delimiter, which is a comma in this example.</p>
</li>
<li>
<p>Select the four target fields.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After you do this, in the <strong>Mapping Details</strong> panel under <strong>Targets</strong>,
there is an entry for each target field that you selected, for example:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/images/integrating-applications/Example-Adding-Padding-Mapping.png" alt="Example of initial entries"></span>.</p>
</div>
<div class="paragraph">
<p>The data mapper displays the target entries in the order in which
they appear in the data mapper, which is alphabetical. You need to
change this order so that it mirrors the order in the source field.
In this example, the source field contains the <code>number-and-street</code>
content before the <code>city</code> content. To correct the order of the
target entries, edit the <code>city</code> index field to be <code>2</code>
or drag the <code>city</code> entry so that it is after the <code>number-and-street</code> entry.
The result looks like this:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/images/integrating-applications/Example-Adding-Padding-Mapping-2.png" alt="Example or reordered entries"></span>.</p>
</div>
<div class="paragraph">
<p>In the target field entries, the index numbers indicate the part of
the source field that will be mapped to this target field. One of
the index values needs to change to achieve the correct target field value.
Consider each target field:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>number-and-street</code> — In the source field, the number and street
content has an index of 1.  It is correct to map the index 1 source
to the <code>number-and-street</code> target field. No changes are needed
in this target entry.</p>
</li>
<li>
<p><code>city</code>  — In the source field, the city
content has an index of 2. This target entry is also correct as it is.</p>
</li>
<li>
<p><code>state</code>  — In the source field, the state content has an index of 3.
This target entry is also correct as it is.</p>
</li>
<li>
<p><code>zip</code>  — In the source field, the zip code content has an index of 5.
The target field entry index of 4 is wrong. If you do not change it, during
execution, the country part of the source field gets mapped to the <code>zip</code>
target field. You need to change the index to 5.
This instructs the data mapper to map the index 5 source
content to the <code>zip</code> target field. After you change the index,
the data mapper adds a padding field with an index of 4. The
result looks like this:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/images/integrating-applications/Example-Adding-Padding-Mapping-3.png" alt="Example entries with padding"></span>.</p>
</div>
<div class="paragraph">
<p>This mapping is now complete. Although the source field has additional
content at index 6, (zip+4), the target does not need the data and
nothing needs to be done.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-data-mapper-to-process-collections_map"><a class="anchor" href="#using-data-mapper-to-process-collections_map"></a>Using the data mapper to process collections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a flow, when a step outputs a collection and when a
subsequent connection that is in the flow expects a collection as the input, you can
use the data mapper to specify how you want the flow to
process the collection.</p>
</div>
<div class="paragraph">
<p>When a step outputs a collection, the flow visualization
displays <strong>Collection</strong> in the details about the step. For example:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/images/integrating-applications/data-type-collection.png" alt="Data Type: SQL Result (Collection)"></span></p>
</div>
<div class="paragraph">
<p>Add a data mapper step after the step that provides the collection and
before the step that needs the mappings. Exactly where in the flow this
data mapper step needs to be depends on the other steps in the flow.
The following image shows mappings from source collection fields
to target collection fields:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/images/integrating-applications/map-collections.png" alt="mapping collection"></span></p>
</div>
<div class="paragraph">
<p>In the source and target panels, the data mapper displays
<span class="image"><img src="../../../_images/images/integrating-applications/collection-icon.png" alt="this icon"></span> to indicate
a collection. When a source collection or a target
collection contain only primitive types, the data mapper does not
display collection fields because there is no need to. You can map
from/to the collection itself.</p>
</div>
<div class="paragraph">
<p>When a collection contains more
than one kind of primitive type or when it contains at least one complex
type then the data mapper displays the collection’s child fields.
You can map from/to each field.</p>
</div>
<div class="paragraph">
<p>When a source field is nested in a number of collections you can map
it to a target field that meets one of these conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The target field is nested in the same number of collections as the source
field. For example, these mappings are allowed:</p>
<div class="ulist">
<ul>
<li>
<p>/A&lt;&gt;/B&lt;&gt;/C  &#8594;  /D&lt;&gt;/E&lt;&gt;/F</p>
</li>
<li>
<p>/A&lt;&gt;/B&lt;&gt;/C  &#8594;  /G&lt;&gt;/H/I&lt;&gt;/J</p>
</li>
</ul>
</div>
</li>
<li>
<p>The target field is nested in only one collection. For example, this mapping is allowed:</p>
<div class="paragraph">
<p>/A&lt;&gt;/B&lt;&gt;/C  &#8594;  /K&lt;&gt;/L</p>
</div>
<div class="paragraph">
<p>In this case, the data mapper uses a depth-first algorithm to iterate over
all values in the source. In order of occurrence, the data mapper puts the
source values into a single target collection.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following mapping is not allowed:</p>
</div>
<div class="paragraph">
<p>/A&lt;&gt;/B&lt;&gt;/C  cannot-map-to  /M&lt;&gt;/N/O&lt;&gt;/P&lt;&gt;/Q</p>
</div>
<div class="paragraph">
<p>When {prodname} executes the flow, it iterates over the source
collection elements to populate the target collection elements.
If you map one or more source collection fields to a target
collection or to target collection
fields, the target collection elements contain values for only
the mapped fields.</p>
</div>
<div class="paragraph">
<p>If you map a source collection or a field in a source collection
to a target field that is not in a collection, then when {prodname}
executes the flow, it assigns the value from only the last element
in the source collection. Any other elements in the collection are
ignored in that mapping step. However, any subsequent mapping steps
can access all elements in the source collection.</p>
</div>
<div class="paragraph">
<p>When a connection returns a collection that is defined in a
JSON or Java document, the data mapper can usually process
the source document as a collection.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapping-between-collections-and-non-collections_map"><a class="anchor" href="#mapping-between-collections-and-non-collections_map"></a>About mapping between collections and non-collections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the data mapper <strong>Source</strong> and <strong>Target</strong> panels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="../../../_images/images/integrating-applications/collection-icon.png" alt="Collection icon"></span>
indicates a collection. If the collection contains one primitive type,
you can map directly from or to that collection. If the collection
contains two or more different types, the data mapper
displays the collection’s child fields and you can map to or from the
collection’s fields.</p>
</li>
<li>
<p><span class="image"><img src="../../../_images/images/integrating-applications/folder.png" alt="Folder icon"></span> indicates an
expandable container that is a complex type. A complex type contains
multiple fields of different types. A field in a complex type can be a
type that is a collection, such as an array. You cannot map a complex
type container itself. You can map only the fields that are in the complex type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To toggle the display of data types, such as <code><strong>(COMPLEX)</strong></code>,
<code><strong>STRING</strong></code>, <code><strong>INTEGER</strong></code>, in the upper right of the data mapper, click
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="settings"></span> and click
<strong>Show Types</strong>.</p>
</div>
<div class="paragraph">
<div class="title">Collection to non-collection (many-to-one) mapping</div>
<p>When you map from a collection field to a non-collection field, the data mapper
recognizes a many-to-one mapping. The default behavior is that the data mapper
applies the <strong>Concatenate</strong> transformation to the source collection or
source collection field. The default delimiter is a space. For example,
consider this source collection:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In the first element, the value in the <strong>city</strong> field
is <strong>Boston</strong>.</p>
</li>
<li>
<p>In the second element, the value in the <strong>city</strong> field
is <strong>Paris</strong>.</p>
</li>
<li>
<p>In the third element, the value in the <strong>city</strong> field
is <strong>Tokyo</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>During execution, the data mapper populates the target field with</p>
</div>
<div class="paragraph">
<p><code>Boston Paris Tokyo</code></p>
</div>
<div class="paragraph">
<p>You can change this default behavior by applying a different transformation.
For example, to map only from the element that you choose, apply the <strong>Item At</strong>
transformation to the source and specify an index. To map the value that is
in the first element in the source collection, specify <code>0</code> for the index.</p>
</div>
<div class="paragraph">
<p>If a source collection contains fields that you do not map,
those fields are still available to subsequent steps that
are in the flow.</p>
</div>
<div class="paragraph">
<div class="title">Non-collection to collection (one-to-many) mapping</div>
<p>When you map from a non-collection source field to a target collection
or to a target field that is in a collection element, the data mapper
recognizes a one-to-many mapping. The default behavior is that the data
mapper applies the <strong>Split</strong> transformation by using whitespace as the delimiter
and splitting the source value into multiple values. During execution,
the data mapper inserts each split value into its own element in the target
collection. For example, if the source field is split into 4 values
then the target collection has 4 elements.</p>
</div>
<div class="paragraph">
<p>In this release, the <strong>Split</strong> transformation is the only transformation that
you can apply to a one-to-many mapping.</p>
</div>
<div class="paragraph">
<p>For example, consider a non-collection, <code>cities</code> source field that contains:</p>
</div>
<div class="paragraph">
<p><code>Boston Paris Tokyo</code></p>
</div>
<div class="paragraph">
<p>You can map this source field to a target collection or to a
target field that is in a collection.
During execution, the data mapper splits the value of the
<strong>cities</strong> field at the space delimiter. The result is a
collection that contains three elements. In the first
element, the value of the <strong>city</strong> field is <code>Boston</code>. In the
second element, the value of the <strong>city</strong> field is <code>Paris</code>.
In the third element, the value of the <strong>city</strong> field is <code>Tokyo</code>.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="{LinkSyndesisIntegrationGuide}#about-transformations-on-multiple-source-values_map">About transformations on multiple source values before mapping to one target field</a></p>
</li>
<li>
<p><a href="{LinkSyndesisIntegrationGuide}#combine-multiple-source-fields-into-one-target-field_map">Combining multiple source fields into one target field</a></p>
</li>
<li>
<p><a href="{LinkSyndesisIntegrationGuide}#separate-one-source-field-into-multiple-target-fields_map">Separating one source field into multiple target fields</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="transform-target-data_map"><a class="anchor" href="#transform-target-data_map"></a>Transforming source or target data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the data mapper, after you define a mapping, you can transform
any field in the mapping.
Transforming a data field defines how you want to store the data.
For example, you could specify the <strong>Capitalize</strong> transformation to ensure that the first
letter of a data value is uppercase.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Map the fields. This can be a one-to-one mapping, a combination mapping,
or a separation mapping.</p>
</li>
<li>
<p>In the <strong>Mapping Details</strong> panel, under <strong>Sources</strong> or under <strong>Targets</strong>,
in the box for the field that you want to transform, click the arrow that points to the
trash can. This displays a field where you can select the transformation
that you want the data mapper to perform.</p>
</li>
<li>
<p>Click in this field to display the list of transformations.</p>
</li>
<li>
<p>Click the transformation that you want to perform.</p>
</li>
<li>
<p>If the transformation requires any input parameters, specify them
in the appropriate input fields.</p>
</li>
<li>
<p>To add another transformation, click the arrow that points to the
trash can again.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Additional resource</div>
<ul>
<li>
<p><a href="{LinkSyndesisIntegrationGuide}#available-transformations_map">Available transformations</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="applying-conditions-to-mappings_map"><a class="anchor" href="#applying-conditions-to-mappings_map"></a>Applying conditions to mappings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In some integrations, it is helpful to add conditional
processing to a mapping. For example, suppose that you are
mapping a source zip code field to a target zip code field.
If the source zip code field is empty, you might want to fill
the target field with <code>99999</code>. To do this, you would specify
an expression that tests the zip code source
field to determine if it is empty, and if it is empty,
inserts <code>99999</code> into the zip code target field.</p>
</div>
<div class="paragraph">
<p>The data mapper supports expressions that are similar to a Microsoft
Excel expressions, but does not support all Microsoft Excel expression
syntax. A conditional expression can refer to an individual field or to a field that is in a collection.</p>
</div>
<div class="paragraph">
<p>You can define zero or one condition for each mapping.</p>
</div>
<div class="paragraph">
<p>The following procedure gets you started with applying
conditions to mappings. As you work with mappings and
conditions, you can perform the required steps in the
order that is most convenient for you.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are mapping fields in a <strong>Data Mapper</strong> step.</p>
</li>
<li>
<p>You are familiar with Microsoft Excel expressions or
you have the conditional expression that you want to apply
to a mapping.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>If data types are not already visible, display them by clicking
<span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span> and then
<strong>Show Types</strong>.</p>
<div class="paragraph">
<p>While this is not a requirement for specifying a condition, it is
helpful to see the data types.</p>
</div>
</li>
<li>
<p>Create the mapping that you want to apply a condition to, or
ensure that the currently selected mapping is the mapping that you
want to apply a condition to. For example, consider this mapping:</p>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/images/integrating-applications/first-conditional-mapping.png" alt="lastName and firstName map to customerName"></span></p>
</div>
</li>
<li>
<p>In the upper right, click
<span class="image"><img src="../../../_images/images/integrating-applications/add-condition-to-mapping.png" alt="Add expression"></span> to
display the conditional expression input field.</p>
<div class="paragraph">
<p>In the expression field, the data mapper automatically displays
the names of the source fields in the current mapping. For example:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/images/integrating-applications/first-conditional-mapping-expression.png" alt="lastName + firstName"></span></p>
</div>
<div class="paragraph">
<p>In the expression input field, the order of the source fields is the
order in which you selected them when you created the mapping.
This is important because the default mapping behavior is that the
data mapper concatenates the field values in this order to insert
the result in the target field. In this example, to create this
mapping, <code>lastName</code> was selected first and then <code>firstName</code> was selected.</p>
</div>
</li>
<li>
<p>Edit the expression input field to specify the conditional
expression that you want the data mapper to apply to the
mapping. Details about supported conditional expressions follow
this procedure.</p>
<div class="paragraph">
<p>As you specify the expression, you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enter <code>@</code> and start to enter the name of a field.
The data mapper displays a list of the fields that match
what you entered. Select the field that you want to
specify in the expression.</p>
</li>
<li>
<p>Drag a field from the mapping canvas into the expression input field.</p>
<div class="paragraph">
<p>When you add a field name to the expression, the data mapper adds
that field to the mapping. For example, consider this conditional
expression:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/images/integrating-applications/second-conditional-mapping-expression.png" alt="if(ISEMPTY(lastName)" width="firstName" height="orderId + phone)"></span></p>
</div>
<div class="paragraph">
<p>During execution, if the data mapper determines that the <code>lastName</code>
field is empty, it maps only the <code>firstName</code> field to the target
<code>customerName</code> field.  If the <code>lastName</code> field contains a value, that is,
it is not empty, the data mapper concatenates the values in the
source <code>orderId</code> and <code>phone</code> fields, and inserts the result in
the <code>customerName</code> field.
(This example shows how the logic works, but it is probably not a
useful example because when there is a value in the <code>lastName</code> field,
you most likely want the data mapper to simply perform the
mapping and not map some other value into the target.)</p>
</div>
<div class="paragraph">
<p>For this example, after you complete entering the expression,
the data mapping is:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/images/integrating-applications/second-conditional-mapping.png" alt="lastName" width="firstName" height="orderId"></span></p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the conditional expression, if you remove a field name that is in
the mapping that the expression applies to, the data mapper removes that
field from the mapping. In other words, every field name in the mapping
must be in the conditional expression.</p>
</div>
</li>
<li>
<p>If mapping preview fields are not already visible, display them
by clicking <span class="image"><img src="../../../_images/images/tutorials/EditorSettings.png" alt="Editor settings"></span> and then
<strong>Show Mapping Preview</strong>.</p>
</li>
<li>
<p>Enter sample data in the source preview input field(s)
to ensure that the target field or target fields
get(s) the correct value.</p>
</li>
<li>
<p>Optionally, apply transformations to one or more source or target fields
that are in the mapping:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Mapping Details</strong> panel, find the field that you want to apply
a transformation to.</p>
</li>
<li>
<p>Just below it, click <strong>Add Transformation</strong>.</p>
</li>
<li>
<p>Click the transformation that you want the data mapper to perform.</p>
</li>
<li>
<p>If needed, specify input parameters.</p>
<div class="paragraph">
<p>For more information, see
<a href="{LinkSyndesisIntegrationGuide}#available-transformations_map">Descriptions of available transformations</a> and
<a href="{LinkSyndesisIntegrationGuide}#about-transformations-on-multiple-source-values_map">About transformations on multiple source values before mapping to one target field</a>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>For example, in the same mapping presented in this procedure, in the
<strong>Mapping Details</strong> panel, you could apply the <code>Uppercase</code>
 transformation to the <code>firstName</code> field. You can test this by entering
 data in the <code>firstName</code> field&#8217;s preview input field.</p>
</div>
</li>
<li>
<p>Edit the conditional expression as needed to obtain the desired result.</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Supported functions in conditional expressions</div>
<ul>
<li>
<p><code>ISEMPTY(<em>source-field-name1</em> [+ <em>source-field-name2</em>])</code></p>
<div class="paragraph">
<p>The result of the <code>ISEMPTY()</code> function is a Boolean value. Specify at least
one argument, which is the name of a source field in the mapping that
you want to apply the condition to. When the specified source field is empty,
the <code>ISEMPTY()</code> function returns true.</p>
</div>
<div class="paragraph">
<p>Optionally, add the + (concatenation) operator with an additional field, for
example:</p>
</div>
<div class="paragraph">
<p><code>ISEMPTY(lastName + firstName)</code></p>
</div>
<div class="paragraph">
<p>This expression evaluates to true if both source fields,
<code>lastName</code> and <code>firstName</code>, are empty.</p>
</div>
<div class="paragraph">
<p>Often, the <code>ISEMPTY()</code> function is the first argument in an <code>IF()</code> function.</p>
</div>
</li>
<li>
<p><code>IF(<em>boolean-expression</em>, <em>then</em>, <em>else</em>)</code></p>
<div class="paragraph">
<p>When <code><em>boolean-expression</em></code> evaluates to true, the data mapper returns <code><em>then</em></code>.
When <code><em>boolean-expression</em></code> evaluates to false, the data mapper returns <code><em>else</em></code>.
All three arguments are required. The last argument can be null,
which means that nothing is mapped when
<code><em>boolean-expression</em></code> evaluates to false.</p>
</div>
<div class="paragraph">
<p>For example, consider the mapping that combines the <code>lastName</code> and <code>firstName</code>
source fields in the target <code>customerName</code> field. You can specify this
conditional expression:</p>
</div>
<div class="paragraph">
<p><code>IF (ISEMPTY(lastName), firstName, lastName + ‘,’ + firstName )</code></p>
</div>
<div class="paragraph">
<p>During execution, the data mapper evaluates the <code>lastName</code> field.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the <code>lastName</code> field is empty, that is, <code>ISEMPTY(lastName)</code>
returns true, the data mapper inserts only the <code>firstName</code> value into the
target <code>customerName</code> field.</p>
</li>
<li>
<p>If the <code>lastName</code> field contains a value, that is, <code>ISEMPTY(lastName)</code>
returns false, the data mapper maps the <code>lastName</code> value, followed by a comma,
followed by the <code>firstName</code> value into the target <code>customerName</code> field.</p>
<div class="paragraph">
<p>Now consider the behavior if the third argument in this expression is null:</p>
</div>
<div class="paragraph">
<p><code>IF (ISEMPTY(lastName), firstName, null )</code></p>
</div>
<div class="paragraph">
<p>During execution, the data mapper evaluates the <code>lastName</code> field.</p>
</div>
</li>
<li>
<p>As in the previous example, if the <code>lastName</code> field is empty, that is,
<code>ISEMPTY(lastName)</code> returns true, the data mapper inserts only the
<code>firstName</code> value into the target <code>customerName</code> field.</p>
</li>
<li>
<p>However, when the third argument is null, if the <code>lastName</code> field contains
a value, that is, <code>ISEMPTY(lastName)</code> returns false, the data mapper does
not map anything into the target <code>customerName</code> field.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>LT(x,y)</code> or <code>&lt;(x,y)</code></p>
<div class="paragraph">
<p>The data mapper evaluates <code>x</code> and <code>y</code> and returns the lower value.
Both <code>x</code> and <code>y</code> must be numbers.</p>
</div>
</li>
<li>
<p><code>TOLOWER(string)</code></p>
<div class="paragraph">
<p>The data mapper converts the specified string to lowercase and returns it.</p>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Supported operators in conditional expressions</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Operator</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add numeric values or concatenate string values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subtract a numeric value from another numeric value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiply numeric values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>\</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide numeric values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&amp;&amp;</code><br>
And</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if both the left and right operands are true.
Each operand must return a Boolean value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>||</code><br>
Or</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if the left operand is true, or if  the right operand is true, or if both operands are true. Each operand must return a Boolean value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>!</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;</code><br>
Greater than</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if the left numeric operand is greater than the right numeric operand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;<br>
Less than</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if the left numeric operand is less than the right numeric operand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>==</code><br>
Equal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if the left operand and the right operand are the same.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="view-mappings-in-a-step_map"><a class="anchor" href="#view-mappings-in-a-step_map"></a>Viewing the mappings in a step</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While you are adding or editing a data mapper step, you can view the mappings
already defined in this step. This lets you check whether the
correct mappings are in place.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are creating or editing an integration.</p>
</li>
<li>
<p>You are adding a data mapper step. That is, the data mapper is visible.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the upper right, click
<span class="image"><img src="../../../_images/images/tutorials/grid.png" alt="grid" title="Grid"></span>.</p>
</li>
<li>
<p>To dismiss the list of mappings and redisplay the source and
target fields, click <span class="image"><img src="../../../_images/images/tutorials/grid.png" alt="grid" title="Grid"></span> again.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="available-transformations_map"><a class="anchor" href="#available-transformations_map"></a>Descriptions of available transformations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following table describes the available transformations. The date and
number types refer generically to any of the various forms of these
concepts. That is, number includes, for example, <code>integer</code>, <code>long</code>, <code>double</code>.
Date includes, for example, <code>date</code>, <code>Time</code>, <code>ZonedDateTime</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Transformation</th>
<th class="tableblock halign-left valign-top">Input Type</th>
<th class="tableblock halign-left valign-top">Output Type</th>
<th class="tableblock halign-left valign-top">Parameter (* = required)</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AbsoluteValue</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the absolute value of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AddDays</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>days</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add days to a date. The default is 0 days.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AddSeconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>seconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add seconds to a date. The default is 0 seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Append</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Append a string to the end of a string. The default is to append nothing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Camelize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a phrase to a camelized string by removing whitespace, making
the first word lowercase, and capitalizing the first letter of each
subsequent word.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Capitalize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Capitalize the first character in a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Ceiling</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the whole number ceiling of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Contains</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a field contains the specified value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertAreaUnit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fromUnit</code>*</p>
<p class="tableblock"><code>toUnit</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number that represents an area to another unit. For
the <code>fromUnit</code> and <code>toUnit</code> parameters, select the appropriate unit
from the <strong>From Unit</strong> and <strong>To Unit</strong> menus. The choices are:
<code>Square Foot</code>, <code>Square Meter</code>, or <code>Square Mile</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertDistanceUnit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fromUnit</code> *</p>
<p class="tableblock"><code>toUnit</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number that represents a distance to another unit. For the
<code>fromUnit</code> and <code>toUnit</code> parameters, select the appropriate unit
from the <strong>From Unit</strong> and <strong>To Unit</strong> menus. The choices are:
<code>Foot</code>, <code>Inch</code>, <code>Meter</code>, <code>Mile</code>, or <code>Yard</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertMassUnit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fromUnit</code> *</p>
<p class="tableblock"><code>toUnit</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number that represents mass to another unit. For the
<code>fromUnit</code> and <code>toUnit</code> parameters, select the appropriate unit
from the <strong>From Unit</strong> and <strong>To Unit</strong> menus. The choices are:
<code>Kilogram</code> or <code>Pound</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertVolumeUnit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fromUnit</code> *</p>
<p class="tableblock"><code>toUnit</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a number that represents volume to another unit. For the
<code>fromUnit</code> and <code>toUnit</code> parameters, select the appropriate unit
from the <strong>From Unit</strong> and <strong>To Unit</strong> menus. The choices are:
<code>Cubic Foot</code>, <code>Cubic Meter</code>, <code>Gallon US Fluid</code>, or <code>Liter</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DayOfWeek</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day of the week (1 through 7) that corresponds to the date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DayOfYear</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the day of the year (1 through 366) that corresponds to the date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EndsWith</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a string ends with the specified <code>string</code>
and the case is the same in both strings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Equals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if the input field is equal to the specified <code>value</code>
and the case is the same in the field and in the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FileExtension</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From a string that represents a file name, return the file extension
without the dot.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Floor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the whole number floor of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Format</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>template</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In <code>template</code>, replace each placeholder (such as <code>%s</code>) with the value of the
input field and return a string that contains the result. This
is similar to mechanisms that are available in programming languages such
as Java and C.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IndexOf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string<br>
The first character is at index 0.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code><br>
Search the input string for this string.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the index of the character in the input string
that is the parameter string&#8217;s first character.
Return <code>-1</code> if the parameter string is not found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IsNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a field is null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LastIndexOf</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string<br>
The first character is at index 0.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code><br>
Search the input string for this string.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the index of the character in the input string
that is the parameter string&#8217;s last character.
Return <code>-1</code> if the parameter string is not found.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Length</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the length of the field, or <code>-1</code> if the field is null.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Lowercase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a string to lowercase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Normalize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace consecutive whitespace characters with a single space and trim
leading and trailing whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PadStringLeft</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>padCharacter</code> *</p>
<p class="tableblock"><code>padCount</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Insert the character supplied in <code>padCharacter</code> at the beginning of a
string. Do this the number of times specified in <code>padCount</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PadStringRight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>padCharacter</code> *</p>
<p class="tableblock"><code>padCount</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Insert the character supplied in <code>padCharacter</code> at the end of a
string. Do this the number of times specified in <code>padCount</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Prepend</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix <code>string</code> to the beginning of a string. the default is to prepend
nothing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ReplaceAll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>match</code> *</p>
<p class="tableblock"><code>newString</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In a string, replace all occurrences of the supplied matching string with the
supplied <code>newString</code>. The default <code>newString</code> is an empty string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ReplaceFirst</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>match</code> *</p>
<p class="tableblock"><code>newString</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In a string, replace the first occurrence of the specified <code>match</code> string
with the specified <code>newString</code>. The default <code>newString</code> is an empty string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Round</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return the rounded whole number of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SeparateByDash</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace each occurrence of whitespace, colon (:), underscore (_),
plus (+), and equals (=) with a hyphen (-).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SeparateByUnderscore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace each occurrence of whitespace, colon (:), hyphen (-), plus (+),
and equals (=) with an underscore (_).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>StartsWith</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return true if a string starts with the specified string (including case).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Substring</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startIndex</code> *</p>
<p class="tableblock"><code>endIndex</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve a segment of a string from the specified inclusive <code>startIndex</code> to the
specified exclusive <code>endIndex</code>. Both indexes start at zero. <code>startIndex</code> is
inclusive. <code>endIndex</code> is exclusive. The default value of <code>endIndex</code> is the
length of the string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SubstringAfter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startIndex</code> *</p>
<p class="tableblock"><code>endIndex</code></p>
<p class="tableblock"><code>match</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve the segment of a string after the specified <code>match</code> string from the
specified inclusive <code>startIndex</code> to the specified exclusive <code>endIndex</code>.
Both indexes start at zero. The default value of <code>endIndex</code> is the length of the
string after the supplied <code>match</code> string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SubstringBefore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startIndex</code> *</p>
<p class="tableblock"><code>endIndex</code></p>
<p class="tableblock"><code>match</code> *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieve a segment of a string before the supplied <code>match</code> string
from the supplied inclusive <code>startIndex</code> to the supplied exclusive
<code>endIndex</code>. Both indexes start at zero. The default value of <code>endIndex</code> is the
length of the string before the supplied <code>match</code> string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Trim</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim leading and trailing whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TrimLeft</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim leading whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TrimRight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trim trailing whitespace from a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Uppercase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert a string to uppercase.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="about-transformations-on-multiple-source-values_map"><a class="anchor" href="#about-transformations-on-multiple-source-values_map"></a>About transformations on multiple source values before mapping to one target field</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are some transformations that you can apply to multiple source fields
or to the values in a source field that contains multiple values, such as a
collection. The data mapper inserts the result of the transformation into
the target field. The following table describes these multiplicity transformations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Multiplicity transformation</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Add</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds the numeric source values and inserts the sum into the target field.
The values in the selected source fields or in the selected collection must be numeric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Average</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Calculates the average of the numeric source values and inserts the result into the target field. The values in the selected source fields or in the selected collection must be numeric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Concatenate</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joins the source values and inserts the result into the target field.
You can accept a space as the delimiter or specify another character.
The data mapper inserts this character in the target field between the source
values. A common use of this transformation is to combine multiple source
field values, for example, <strong>FirstName</strong>, <strong>MiddleName</strong>, and <strong>LastName</strong>,
in one target field, for example, <strong>CustomerName</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Contains</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluates the source values to determine whether any value contains
a parameter value that you specify. If any source value contains the
specified parameter value, the data mapper inserts <strong>true</strong> into the target field.
If no source value contains the parameter value then the data mapper
inserts <strong>false</strong> into the target field.</p>
<p class="tableblock">For example, suppose you want to track activity related to a particular
customer. You can select a source collection field where each
collection member contains customer information. For the <strong>Value</strong> parameter,
you specify a particular email address. When the data mapper finds the
specified email address in the collection, it inserts <strong>true</strong> in the target field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Count</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inserts the number of source values in the target field. This is useful
when the source field is a collection. The data mapper inserts the size
of the collection in the target field.</p>
<p class="tableblock">For example, suppose you select an <strong>Order</strong> source field that is a
collection of item objects. Applying the <strong>Count</strong> transformation inserts the
number of items that are in the order into the target field.</p>
<p class="tableblock">As another example, if you select 4 individual source fields,
the data mapper inserts <strong>4</strong> in the target field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Divide</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divides the first source value by the second source value and inserts
the result in the target field.
If there are more that two source values then execution continues to divide
the result by the next number. For example, consider a <code>numbers[]</code> collection
that contains <code>{1000, 100, 10}</code>. Execution divides <code>1000</code> by <code>100</code> to get <code>10</code>,
and then divides <code>10</code> by <code>10</code> to get <code>1</code>. The mapper inserts <code>1</code> in the target field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Format</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaces placeholders in a template that you specify with values
from the source fields that you select. The data mapper inserts the
resulting string in the target field. For example, suppose you select
three source fields:</p>
<p class="tableblock"><strong>time</strong><br>
<strong>name</strong><br>
<strong>text</strong><br></p>
<p class="tableblock">You select the <strong>Format</strong> transformation and in the <strong>Template</strong> parameter
you could specify:</p>
<p class="tableblock"><code><strong>At $time, $name tweeted: $text</strong></code></p>
<p class="tableblock">In the target field, the result would be something like:</p>
<p class="tableblock"><strong>At 8:00 AM, Aslan tweeted: ROAR!</strong></p>
<p class="tableblock">This is similar to mechanisms that are available in programming languages
such as Java and C.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Item At</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For the source field that you select, the data mapper finds the value at
the index that you specify and inserts that value in the target field.
The source field must be a collection or a field that
contains multiple values with delimiters.</p>
<p class="tableblock">For example, suppose the selected source field is a collection of customer
email addresses. After you select the <strong>Item At</strong> transformation, in the <strong>Index</strong>
parameter field, you specify <strong>0.</strong> The data mapper inserts the first email
address, which is at index 0, in the target field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Maximum</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluates the source values and inserts the highest value in the target field.
The source values must be numeric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Minimum</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluates the source values and inserts the lowest value in the target field.
The source values must be numeric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Multiply</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplies the first source value by the second source value and inserts
the result in the target field.
If there are more that two source values then execution continues to multiply
the result by the next number. For example, consider a <code>numbers[]</code> collection
that contains <code>{10, 100, 1000}</code>. Execution multiplies <code>10</code> by <code>100</code> to get <code>1000</code>,
and then multiplies <code>1000</code> by <code>1000</code> to get <code>1000000</code>. The mapper inserts
<code>1000000</code> in the target field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Subtract</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subtracts the second source value from the first source value and inserts
the result in the target field.
If there are more that two source values then execution continues to subtract
the next number from the previous result. For example, consider a <code>numbers[]</code>
collection that contains <code>{100, 90, 9}</code>. Execution subtracts <code>90</code> from <code>100</code>
to get <code>10</code>, and then subtracts <code>9</code> from <code>10</code> to get <code>1</code>. The mapper inserts
<code>1</code> in the target field.</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="{LinkSyndesisIntegrationGuide}#combine-multiple-source-fields-into-one-target-field_map">Combining multiple source fields into one target field</a></p>
</li>
<li>
<p><a href="{LinkSyndesisIntegrationGuide}#example-missing-unwanted-data_map">Separating one source field into multiple target fields</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting-data-mapping_map"><a class="anchor" href="#troubleshooting-data-mapping_map"></a>Troubleshooting data mapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The data mapper displays the largest possible set of source fields that
can be provided by the previous integration step. However, not all
connections provide data in each displayed source field. For example,
a change to a third-party application might discontinue providing data
in a particular field. As you create an integration, if you notice that
data mapping is not behaving as you expect, ensure that a source field
that you want to map contains the data that you expect.</p>
</div>
<div class="paragraph">
<p>A data shape change that affects a field that is already mapped
might prevent the data mapper from loading a document. In this
situation, when you try to edit a data mapper step that maps the
affected field, the data mapper cannot display the source and
target panels. Instead, it displays an error that indicates
that it cannot load or cannot find the document. The error
message looks like one of the following messages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Data Mapper UI Initialization Error: Could not load document '-La_rwMD_ggphAW6nE9o': undefined undefined</code></p>
</li>
<li>
<p><code>Could not find document for mapped field 'last_name' at URI atlas:json:-LaX4LMC1CfVJYp3JXM6</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You must delete this data mapper step and replace it with a new data
mapper step in which you map the updated fields.</p>
</div>
<div class="paragraph">
<p>While a data shape change to a mapped field always requires you to
redo the mapping, you do not always need to delete and remove the data
mapper step. For example, if an XML instance specifies an input data
shape and you change the name of an element, the data mapper removes the
mapping that was to/from the old field name. You just need to map
to/from the field with the updated name.</p>
</div>
<div class="paragraph">
<p>It is possible to change the data shape for a mapped field in the
following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In an API provider integration, while editing a flow, you edit the
OpenAPI document that defines the operation.</p>
<div class="paragraph">
<p>Changing the data shape of the operation response always prevents the data mapper
from being able to load the document.</p>
</div>
</li>
<li>
<p>In a flow, you edit the input data type and/or the output data type
for one of these kinds of connections:</p>
<div class="ulist">
<ul>
<li>
<p>Amazon S3</p>
</li>
<li>
<p>AMQ</p>
</li>
<li>
<p>AMQP</p>
</li>
<li>
<p>Dropbox</p>
</li>
<li>
<p>FTP/SFTP</p>
</li>
<li>
<p>HTTP/HTTPS</p>
</li>
<li>
<p>Kafka</p>
</li>
<li>
<p>IRC</p>
</li>
<li>
<p>MQTT</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
